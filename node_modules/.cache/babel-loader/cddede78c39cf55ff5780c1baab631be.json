{"ast":null,"code":"import _createForOfIteratorHelper from\"D:/Venturnix/ecommerce/ecommerce-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _defineProperty from\"D:/Venturnix/ecommerce/ecommerce-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"D:/Venturnix/ecommerce/ecommerce-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/Venturnix/ecommerce/ecommerce-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"D:/Venturnix/ecommerce/ecommerce-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"D:/Venturnix/ecommerce/ecommerce-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/Venturnix/ecommerce/ecommerce-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{Col,Container,Form}from\"react-bootstrap\";import Breadcrumb from\"react-bootstrap/esm/Breadcrumb\";import{withRouter}from\"react-router-dom\";import BackendExtService from\"../../../extService/BackendExtService\";import ProductList from\"../../component/ProductList\";import\"./style.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CheckoutPage=/*#__PURE__*/function(_React$Component){_inherits(CheckoutPage,_React$Component);var _super=_createSuper(CheckoutPage);//Initial State\nfunction CheckoutPage(props){var _this;_classCallCheck(this,CheckoutPage);_this=_super.call(this,props);_this.state={creditCardNumber:\"\",expiryDate:\"\",cvv:\"\"};_this.onLoadedTransaction=_this.onLoadedTransaction.bind(_assertThisInitialized(_this));_this.handleInputChange=_this.handleInputChange.bind(_assertThisInitialized(_this));return _this;}_createClass(CheckoutPage,[{key:\"componentDidMount\",value:function componentDidMount(){BackendExtService.getTransaction(+this.props.match.params.transactionId,this.onLoadedTransaction);}},{key:\"onLoadedTransaction\",value:function onLoadedTransaction(data){this.setState({transaction:data});}},{key:\"handleInputChange\",value:function handleInputChange(event){var target=event.target;var value=target.type==='checkbox'?target.checked:target.value;var name=target.name;//@ts-ignore\nthis.setState(_defineProperty({},name,value));}},{key:\"renderProductList\",value:function renderProductList(){if(!this.state.transaction){return null;}var items=this.state.transaction.items;var checkoutItems={};var _iterator=_createForOfIteratorHelper(items),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var item=_step.value;var details=item.details;checkoutItems[item.details.id]={id:details.id,name:details.name,description:details.description,price:details.price,imageUrl:details.imageUrl,quantity:item.quantity};}}catch(err){_iterator.e(err);}finally{_iterator.f();}return/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(ProductList,{shouldShowRemoveButton:false,displayItems:checkoutItems}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Total: $\",this.state.transaction.total]})]});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"checkout\",children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Breadcrumb,{children:[/*#__PURE__*/_jsx(Breadcrumb.Item,{href:\"#/\",children:\"All Products\"}),/*#__PURE__*/_jsx(Breadcrumb.Item,{href:\"#/cart\",children:\"Shopping Cart\"}),/*#__PURE__*/_jsx(Breadcrumb.Item,{active:true,children:\"Checkout\"})]}),/*#__PURE__*/_jsx(\"h1\",{children:\"Checkout\"}),this.renderProductList()]}),/*#__PURE__*/_jsx(Form,{children:/*#__PURE__*/_jsxs(Form.Row,{children:[/*#__PURE__*/_jsxs(Form.Group,{as:Col,controlId:\"creditCardNumber\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Credit Card #\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"creditCardNumber\",value:this.state.creditCardNumber,placeholder:\"Credit Card Number\",onChange:this.handleInputChange})]}),/*#__PURE__*/_jsxs(Form.Group,{as:Col,controlId:\"expiryDate\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Expiry Date\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"expiryDate\",value:this.state.expiryDate,placeholder:\"Expiry Date\",onChange:this.handleInputChange})]}),/*#__PURE__*/_jsxs(Form.Group,{as:Col,controlId:\"cvv\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"CVV\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",name:\"cvv\",value:this.state.cvv,placeholder:\"CVV\",onChange:this.handleInputChange})]})]})})]})});}}]);return CheckoutPage;}(React.Component);export default withRouter(CheckoutPage);","map":{"version":3,"sources":["D:/Venturnix/ecommerce/ecommerce-frontend/src/ui/page/CheckoutPage/index.tsx"],"names":["React","Col","Container","Form","Breadcrumb","withRouter","BackendExtService","ProductList","CheckoutPage","props","state","creditCardNumber","expiryDate","cvv","onLoadedTransaction","bind","handleInputChange","getTransaction","match","params","transactionId","data","setState","transaction","event","target","value","type","checked","name","items","checkoutItems","item","details","id","description","price","imageUrl","quantity","total","renderProductList","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Col, Container, Form } from \"react-bootstrap\";\r\nimport Breadcrumb from \"react-bootstrap/esm/Breadcrumb\";\r\nimport Table from \"react-bootstrap/esm/Table\";\r\nimport { RouteComponentProps, withRouter } from \"react-router-dom\";\r\nimport { DisplayMap, ProductItem, Transaction } from \"../../../domain/dto/backendDos\";\r\nimport BackendExtService from \"../../../extService/BackendExtService\";\r\nimport ProductList from \"../../component/ProductList\";\r\nimport \"./style.css\"\r\n\r\ntype RouterParamProps = {\r\n    transactionId: string\r\n}\r\ntype Props = RouteComponentProps<RouterParamProps> & {\r\n    \r\n};\r\ntype State = {\r\n    \r\n    transaction?: Transaction;\r\n\r\n    creditCardNumber: string,\r\n    expiryDate: string,\r\n    cvv: string\r\n};\r\n\r\nclass CheckoutPage extends React.Component<Props, State>{\r\n    state = {\r\n        creditCardNumber: \"\",\r\n        expiryDate: \"\",\r\n        cvv: \"\"\r\n    } as State;    //Initial State\r\n\r\n    constructor(props: Props) {\r\n        super(props);\r\n\r\n        this.onLoadedTransaction = this.onLoadedTransaction.bind(this);\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n    }\r\n    componentDidMount() {\r\n        BackendExtService.getTransaction(+this.props.match.params.transactionId, this.onLoadedTransaction)\r\n    }\r\n\r\n    onLoadedTransaction(data: Transaction) {\r\n        this.setState({\r\n            transaction: data\r\n        });\r\n    }\r\n\r\n    handleInputChange(event: React.ChangeEvent<HTMLInputElement>) {\r\n        const target = event.target;\r\n        const value = target.type === 'checkbox' ? target.checked : target.value;\r\n        const name = target.name;\r\n\r\n        //@ts-ignore\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n    renderProductList() {\r\n        if (!this.state.transaction) {\r\n            return null;\r\n        }\r\n        const items = this.state.transaction.items;\r\n        const checkoutItems: DisplayMap = {};\r\n        for (let item of items) {\r\n            const details = item.details;\r\n            checkoutItems[item.details.id] = {\r\n                id: details.id,\r\n                name: details.name,\r\n                description: details.description,\r\n                price: details.price,\r\n                imageUrl: details.imageUrl,\r\n                quantity: item.quantity\r\n            }\r\n        }\r\n\r\n        return (\r\n            <section>\r\n                <ProductList\r\n                    shouldShowRemoveButton={false}\r\n                    displayItems={checkoutItems}\r\n\r\n                />\r\n                <h3>Total: ${this.state.transaction.total}</h3>\r\n            </section>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"checkout\">\r\n                <Container>\r\n                    <div>\r\n                        <Breadcrumb>\r\n                            <Breadcrumb.Item href=\"#/\">All Products</Breadcrumb.Item>\r\n                            <Breadcrumb.Item href=\"#/cart\">Shopping Cart</Breadcrumb.Item>\r\n                            <Breadcrumb.Item active>Checkout</Breadcrumb.Item>\r\n                        </Breadcrumb>\r\n\r\n                        <h1>Checkout</h1>\r\n                        {this.renderProductList()}\r\n                    </div>\r\n                    <Form>\r\n                        <Form.Row>\r\n                            <Form.Group as={Col} controlId=\"creditCardNumber\">\r\n                                <Form.Label>Credit Card #</Form.Label>\r\n                                <Form.Control\r\n                                    type=\"text\"\r\n                                    name=\"creditCardNumber\"\r\n                                    value={this.state.creditCardNumber}\r\n                                    placeholder=\"Credit Card Number\"\r\n                                    onChange={this.handleInputChange}\r\n                                />\r\n                            </Form.Group>\r\n\r\n                            <Form.Group as={Col} controlId=\"expiryDate\">\r\n                                <Form.Label>Expiry Date</Form.Label>\r\n                                <Form.Control\r\n                                    type=\"text\"\r\n                                    name=\"expiryDate\"\r\n                                    value={this.state.expiryDate}\r\n                                    placeholder=\"Expiry Date\"\r\n                                    onChange={this.handleInputChange}\r\n                                />\r\n                            </Form.Group>\r\n\r\n                            <Form.Group as={Col} controlId=\"cvv\">\r\n                                <Form.Label>CVV</Form.Label>\r\n                                <Form.Control\r\n                                    type=\"password\"\r\n                                    name=\"cvv\"\r\n                                    value={this.state.cvv}\r\n                                    placeholder=\"CVV\"\r\n                                    onChange={this.handleInputChange}\r\n                                />\r\n                            </Form.Group>\r\n                        </Form.Row>\r\n                    </Form>\r\n                </Container>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default withRouter(CheckoutPage);"]},"metadata":{},"sourceType":"module"}