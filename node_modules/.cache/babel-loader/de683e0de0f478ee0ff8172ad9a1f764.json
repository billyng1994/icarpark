{"ast":null,"code":"var _jsxFileName = \"D:\\\\Venturnix\\\\ecommerce\\\\ecommerce project\\\\ecommerce\\\\src\\\\ui\\\\page\\\\ShoppingCartPage\\\\index.tsx\";\nimport React from 'react';\nimport { Breadcrumb, Button, Container } from 'react-bootstrap';\nimport BackendExtService from '../../../extService/BackendExtService';\nimport ProductList from '../../component/ProductList';\nimport './style.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class ShoppingCartPage extends React.Component {\n  //initial state\n  constructor(props) {\n    super(props);\n    this.state = {};\n    this.onLoadedShoppingCartItems = this.onLoadedShoppingCartItems.bind(this);\n    this.onClickRemoveItemButton = this.onClickRemoveItemButton.bind(this);\n  }\n\n  componentDidMount() {\n    const cart = this.props.shoppingCartService.getCart();\n    const productIds = Object.keys(cart);\n    /*find out all the keys in the object*/\n\n    BackendExtService.getShoppingCartItems(productIds, this.onLoadedShoppingCartItems);\n  }\n\n  onLoadedShoppingCartItems(data) {\n    this.setState({\n      shoppingCartItems: data\n    });\n  }\n\n  onClickCheckoutButton() {\n    window.location.href = \"#/checkout\";\n  }\n\n  onClickRemoveItemButton(productId) {\n    this.props.shoppingCartService.removeFromCart(productId); // ... this state.shoppingCartItems means take everything\n    //inside this.props.displayItems out and put them into the new object\n\n    const shoppingCartItems = { ...this.state.shoppingCartItems\n    };\n    delete shoppingCartItems[productId];\n    this.setState({\n      shoppingCartItems: shoppingCartItems\n    });\n  }\n\n  renderCheckoutSection() {\n    if (!this.state.shoppingCartItems) {\n      return null;\n    }\n\n    let total = 0; // the productId is the 1,2 in the shoppingCartItem list and take the sum of the price\n\n    for (let productId of Object.keys(this.state.shoppingCartItems)) {\n      total += this.state.shoppingCartItems[+productId].price;\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      children: [/*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Total Price: \", total]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 22\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        onClick: this.onClickCheckoutButton,\n        children: \"Checkout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(Breadcrumb, {\n        children: [/*#__PURE__*/_jsxDEV(Breadcrumb.Item, {\n          href: \"#/\",\n          children: \"All Products\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Breadcrumb.Item, {\n          active: true,\n          children: \"Shopping Cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(ProductList, {\n        shouldShowRemoveButton: true,\n        displayItems: this.state.shoppingCartItems,\n        onClickRemoveItemButton: this.onClickRemoveItemButton\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }, this), this.renderCheckoutSection()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }, this);\n  }\n\n} // ArrayList<JSXElement> cartItems = new ArrayList<>();\n// for (productIds) {\n// \tcartItems.push(\n// \t\tnew TableRow(productId)\n// \t)\n// }\n// return [\n// \t<tr>1</tr>,\n// \t<tr>2</tr>,\n// \t<tr>3</tr>\n// ];\n// | |\n//  V\n// render() {\n// \t<Table>\n// \t\t{this.renderShoppingCartItems()}\n// \t</Table>\n// }\n// | |\n//  V\n//  render() {\n//  \t<Table>\n//  \t\t<tr>1</tr>\n// \t\t<tr>2</tr>\n// \t\t<tr>3</tr>\n// \t</Table>\n//  }","map":{"version":3,"sources":["D:/Venturnix/ecommerce/ecommerce project/ecommerce/src/ui/page/ShoppingCartPage/index.tsx"],"names":["React","Breadcrumb","Button","Container","BackendExtService","ProductList","ShoppingCartPage","Component","constructor","props","state","onLoadedShoppingCartItems","bind","onClickRemoveItemButton","componentDidMount","cart","shoppingCartService","getCart","productIds","Object","keys","getShoppingCartItems","data","setState","shoppingCartItems","onClickCheckoutButton","window","location","href","productId","removeFromCart","renderCheckoutSection","total","price","render"],"mappings":"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","sourcesContent":["import { faTrashAlt } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport React from 'react';\r\nimport { Breadcrumb, Button, Container, Table } from 'react-bootstrap';\r\nimport { ProductMap } from '../../../domain/dto/backendDos';\r\nimport BackendExtService from '../../../extService/BackendExtService';\r\nimport ShoppingCartSErvice from '../../../service/ShoppingCartService';\r\nimport ProductList from '../../component/ProductList';\r\nimport './style.css';\r\n\r\ntype Props = {\r\n    shoppingCartService: ShoppingCartSErvice\r\n};\r\ntype State = {\r\n    shoppingCartItems?: ProductMap\r\n};\r\n\r\nexport default class ShoppingCartPage extends React.Component<Props, State> {\r\n    state = {} as State; //initial state\r\n    constructor(props: Props){\r\n        super(props);\r\n\r\n        this.onLoadedShoppingCartItems = this.onLoadedShoppingCartItems.bind(this);\r\n        this.onClickRemoveItemButton = this.onClickRemoveItemButton.bind(this);\r\n    }\r\n    componentDidMount(){\r\n        const cart = this.props.shoppingCartService.getCart();\r\n        const productIds = Object.keys(cart); /*find out all the keys in the object*/\r\n        BackendExtService.getShoppingCartItems(productIds, this.onLoadedShoppingCartItems)\r\n    }\r\n\r\n    onLoadedShoppingCartItems(data: ProductMap){\r\n        this.setState({\r\n            shoppingCartItems: data\r\n        })\r\n    }\r\n    \r\n    onClickCheckoutButton(){\r\n        window.location.href = \"#/checkout\";\r\n    }\r\n    onClickRemoveItemButton(productId: number){\r\n        this.props.shoppingCartService.removeFromCart(productId);\r\n        // ... this state.shoppingCartItems means take everything\r\n        //inside this.props.displayItems out and put them into the new object\r\n        const shoppingCartItems = {...this.state.shoppingCartItems};\r\n        \r\n        delete shoppingCartItems[productId];\r\n\r\n        this.setState({\r\n            shoppingCartItems: shoppingCartItems\r\n        });\r\n    }\r\n\r\n    renderCheckoutSection(){\r\n        if(!this.state.shoppingCartItems){\r\n            return null;\r\n        }\r\n        let total=0;\r\n        // the productId is the 1,2 in the shoppingCartItem list and take the sum of the price\r\n        for (let productId of Object.keys(this.state.shoppingCartItems)){\r\n            total +=this.state.shoppingCartItems[+productId].price;\r\n        }\r\n        return (\r\n            <section>\r\n                <hr/><h3>Total Price: {total}</h3>\r\n                <Button variant=\"primary\" onClick={this.onClickCheckoutButton}>Checkout</Button>\r\n            </section>\r\n        )\r\n    }\r\n    \r\n    render() {\r\n        return(\r\n        <Container>\r\n            <Breadcrumb>\r\n                    <Breadcrumb.Item href=\"#/\">All Products</Breadcrumb.Item>\r\n                    <Breadcrumb.Item active>Shopping Cart</Breadcrumb.Item>\r\n                </Breadcrumb>\r\n\r\n            {/* TODO: Add back ProductList Component here*/}\r\n            <ProductList\r\n                shouldShowRemoveButton={true}\r\n                displayItems={this.state.shoppingCartItems}\r\n                onClickRemoveItemButton = {this.onClickRemoveItemButton}\r\n                />\r\n            \r\n            {this.renderCheckoutSection()}\r\n            \r\n        </Container>\r\n        )\r\n    }\r\n}\r\n\r\n// ArrayList<JSXElement> cartItems = new ArrayList<>();\r\n// for (productIds) {\r\n// \tcartItems.push(\r\n// \t\tnew TableRow(productId)\r\n// \t)\r\n// }\r\n\r\n// return [\r\n// \t<tr>1</tr>,\r\n// \t<tr>2</tr>,\r\n// \t<tr>3</tr>\r\n// ];\r\n\r\n// | |\r\n//  V\r\n\r\n// render() {\r\n// \t<Table>\r\n// \t\t{this.renderShoppingCartItems()}\r\n// \t</Table>\r\n// }\r\n\r\n// | |\r\n//  V\r\n\r\n//  render() {\r\n//  \t<Table>\r\n//  \t\t<tr>1</tr>\r\n// \t\t<tr>2</tr>\r\n// \t\t<tr>3</tr>\r\n// \t</Table>\r\n//  }"]},"metadata":{},"sourceType":"module"}