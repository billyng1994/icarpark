{"ast":null,"code":"import axios from \"axios\";\nexport default class BackendExtService {\n  static getProductList(callback) {\n    axios.get(\"http://localhost:8080/public/product/all\").then(response => {\n      callback(response.data);\n    });\n  }\n\n  static getProductDetail(productId, callback) {\n    axios.get(\"http://localhost:8080/public/product/details?productId=\" + productId).then(response => {\n      callback(response.data);\n    });\n  }\n\n  static getShoppingCartItems(productIds, callback) {\n    axios.post(\"http://localhost:8080/public/product/search/ids\", productIds).then(response => {\n      callback(response.data); // when one day DO is finally mismatch with the DTO:\n      // callback({\n      //     productName: data.name,\n      //     productPrice: data.price,\n      //     productDescription: data.description,\n      //     ...\n      // })\n    });\n  }\n\n  static checkout(items, callback) {\n    axios.post(\"http://localhost:8080/transaction\", items).then(response => {\n      callback(response.data);\n    });\n  }\n\n  static getTransaction(transactionId, callback) {\n    axios.get(\"http://localhost:8080/transaction/\" + transactionId).then(response => {\n      callback(response.data);\n    }); //     This is a dummy example\n    // static getTransaction(transactionId: number, callback: (data: Transaction) => void){\n    //     new Promise((resolve, reject)=>{\n    //         setTimeout(()=>{\n    //             resolve(mockCheckout as CheckoutResponseDto);\n    //         },1000);\n    //     }).then(data => {\n    //         callback(data as Transaction);\n    //     })\n  } //postPayment API\n\n\n}","map":{"version":3,"sources":["D:/Venturnix/ecommerce/ecommerce-frontend/src/extService/BackendExtService.ts"],"names":["axios","BackendExtService","getProductList","callback","get","then","response","data","getProductDetail","productId","getShoppingCartItems","productIds","post","checkout","items","getTransaction","transactionId"],"mappings":"AAQA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe,MAAMC,iBAAN,CAAuB;AAEb,SAAdC,cAAc,CAACC,QAAD,EAAuC;AACzDH,IAAAA,KAAK,CAACI,GAAN,CAAkC,0CAAlC,EACCC,IADD,CACMC,QAAQ,IAAG;AACZH,MAAAA,QAAQ,CAACG,QAAQ,CAACC,IAAV,CAAR;AACH,KAHF;AAIF;;AACsB,SAAhBC,gBAAgB,CAACC,SAAD,EAAoBN,QAApB,EAA2D;AAChFH,IAAAA,KAAK,CAACI,GAAN,CAAoC,4DAA0DK,SAA9F,EACCJ,IADD,CACMC,QAAQ,IAAI;AACZH,MAAAA,QAAQ,CAACG,QAAQ,CAACC,IAAV,CAAR;AACH,KAHH;AAID;;AAC0B,SAApBG,oBAAoB,CAACC,UAAD,EAAuBR,QAAvB,EAA0D;AACjFH,IAAAA,KAAK,CAACY,IAAN,CAAyC,iDAAzC,EAA4FD,UAA5F,EACCN,IADD,CACMC,QAAQ,IAAI;AACdH,MAAAA,QAAQ,CAACG,QAAQ,CAACC,IAAV,CAAR,CADc,CAGd;AACA;AACA;AACA;AACA;AACA;AACA;AACH,KAXD;AAYH;;AACc,SAARM,QAAQ,CAACC,KAAD,EAA4BX,QAA5B,EAAkE;AAC7EH,IAAAA,KAAK,CAACY,IAAN,CAAgC,mCAAhC,EAAqEE,KAArE,EACCT,IADD,CACMC,QAAQ,IAAI;AACdH,MAAAA,QAAQ,CAACG,QAAQ,CAACC,IAAV,CAAR;AACH,KAHD;AAIH;;AACoB,SAAdQ,cAAc,CAACC,aAAD,EAAwBb,QAAxB,EAA8D;AAC/EH,IAAAA,KAAK,CAACI,GAAN,CAAkC,uCAAsCY,aAAxE,EACCX,IADD,CACMC,QAAQ,IAAI;AACdH,MAAAA,QAAQ,CAACG,QAAQ,CAACC,IAAV,CAAR;AACH,KAHD,EAD+E,CAOnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACC,GAlDiC,CAoDlC;;;AApDkC","sourcesContent":["import React from \"react\";\r\nimport { ProductItem, ProductList, ProductMap, Transaction } from \"../domain/dto/backendDos\";\r\nimport { CheckoutResponseDto, ProductDetailResponseDto, ProductListResponseDto, ShoppingCartItemsResponseDto, TransactionResponseDto } from \"../domain/dto/backendDtos\";\r\nimport mockProductList from './products.json';\r\nimport mockProductDetail from './productDetail.json';\r\nimport mockinShoppingCartItems from './shoppingCartItems.json';\r\nimport mockCheckout from './checkout.json';\r\nimport { ShoppingCartItem } from \"../domain/shoppingCartDos\";\r\nimport axios from \"axios\";\r\n\r\nexport default class BackendExtService{\r\n\r\n    static getProductList(callback: (data: ProductList) => void){\r\n       axios.get<ProductListResponseDto>(\"http://localhost:8080/public/product/all\")\r\n       .then(response =>{\r\n            callback(response.data as ProductList);\r\n        })\r\n    }\r\n    static getProductDetail(productId: number, callback: (data: ProductItem) => void) {\r\n      axios.get<ProductDetailResponseDto>(\"http://localhost:8080/public/product/details?productId=\"+productId)\r\n      .then(response => {\r\n            callback(response.data as ProductItem);\r\n        })\r\n    }\r\n    static getShoppingCartItems(productIds: string[], callback: (data: ProductMap)=>void){\r\n        axios.post<ShoppingCartItemsResponseDto>(\"http://localhost:8080/public/product/search/ids\", productIds)\r\n        .then(response => {\r\n            callback(response.data as ProductMap);\r\n\r\n            // when one day DO is finally mismatch with the DTO:\r\n            // callback({\r\n            //     productName: data.name,\r\n            //     productPrice: data.price,\r\n            //     productDescription: data.description,\r\n            //     ...\r\n            // })\r\n        })\r\n    }\r\n    static checkout(items: ShoppingCartItem[], callback: (data: Transaction) => void){\r\n        axios.post<CheckoutResponseDto>(\"http://localhost:8080/transaction\", items)\r\n        .then(response => {\r\n            callback(response.data as Transaction);\r\n        })\r\n    }\r\n    static getTransaction(transactionId: number, callback: (data: Transaction) => void){\r\n        axios.get<TransactionResponseDto>(\"http://localhost:8080/transaction/\"+ transactionId)\r\n        .then(response => {\r\n            callback(response.data as Transaction);\r\n        })\r\n\r\n\r\n    //     This is a dummy example\r\n    // static getTransaction(transactionId: number, callback: (data: Transaction) => void){\r\n    //     new Promise((resolve, reject)=>{\r\n    //         setTimeout(()=>{\r\n    //             resolve(mockCheckout as CheckoutResponseDto);\r\n    //         },1000);\r\n    //     }).then(data => {\r\n    //         callback(data as Transaction);\r\n    //     })\r\n    }\r\n\r\n    //postPayment API\r\n}"]},"metadata":{},"sourceType":"module"}